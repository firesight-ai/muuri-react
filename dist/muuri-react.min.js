/**
* Muuri-react v4.0.0
* https://paol-imi.github.io/muuri-react
* Copyright (c) 2020-present, Paol-imi
* Released under the MIT license
* https://github.com/Paol-imi/muuri-react/blob/master/LICENSE
* @license MIT
*/
"use strict";var MuuriReact=(()=>{var Ut=Object.create;var L=Object.defineProperty,Wt=Object.defineProperties,Kt=Object.getOwnPropertyDescriptor,Yt=Object.getOwnPropertyDescriptors,Bt=Object.getOwnPropertyNames,ae=Object.getOwnPropertySymbols,Zt=Object.getPrototypeOf,Ge=Object.prototype.hasOwnProperty,qe=Object.prototype.propertyIsEnumerable;var Ve=(e,t,r)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,I=(e,t)=>{for(var r in t||(t={}))Ge.call(t,r)&&Ve(e,r,t[r]);if(ae)for(var r of ae(t))qe.call(t,r)&&Ve(e,r,t[r]);return e},j=(e,t)=>Wt(e,Yt(t));var h=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(t,r)=>(typeof require!="undefined"?require:t)[r]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var $e=(e,t)=>{var r={};for(var o in e)Ge.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&ae)for(var o of ae(e))t.indexOf(o)<0&&qe.call(e,o)&&(r[o]=e[o]);return r};var Se=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Le=(e,t)=>{for(var r in t)L(e,r,{get:t[r],enumerable:!0})},ze=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Bt(t))!Ge.call(e,n)&&n!==r&&L(e,n,{get:()=>t[n],enumerable:!(o=Kt(t,n))||o.enumerable});return e};var D=(e,t,r)=>(r=e!=null?Ut(Zt(e)):{},ze(t||!e||!e.__esModule?L(r,"default",{value:e,enumerable:!0}):r,e)),Jt=e=>ze(L({},"__esModule",{value:!0}),e);var We=Se(($r,Ue)=>{"use strict";var Qt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";Ue.exports=Qt});var Ze=Se((Lr,Be)=>{"use strict";var Xt=We();function Ke(){}function Ye(){}Ye.resetWarningCache=Ke;Be.exports=function(){function e(o,n,a,y,b,f){if(f!==Xt){var C=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw C.name="Invariant Violation",C}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Ye,resetWarningCache:Ke};return r.PropTypes=r,r}});var le=Se((Wr,Je)=>{Je.exports=Ze()();var zr,Ur});var Tr={};Le(Tr,{AutoScroller:()=>Dr,ChildrenController:()=>Z,EventController:()=>z,FiberController:()=>B,FlagProp:()=>ue,GridComponent:()=>q,GridContext:()=>ce,GridProvider:()=>Ee,ItemAddController:()=>U,ItemComponent:()=>Q,ItemContext:()=>pe,ItemDrag:()=>Ir,ItemProvider:()=>Pe,ItemRefController:()=>W,ItemRemoveController:()=>K,LayoutController:()=>Y,MuuriComponent:()=>be,MuuriMap:()=>ye,getHandler:()=>w,getIndicesToAdd:()=>it,getResponsiveStyle:()=>He,getStaticStyle:()=>yr,muuriMap:()=>H,useData:()=>Ce,useDrag:()=>Ot,useDraggable:()=>Ht,useGrid:()=>jt,useGridContext:()=>F,useItemContext:()=>v,useRefresh:()=>Nt,useShow:()=>qt,useVisibility:()=>ve,withHooks:()=>vr});var ke=D(h("muuri"));var E=D(h("muuri"));var M="_component";function N(e){return!!e[M]}function x(e,t){N(e)?Object.assign(e[M],t):e[M]=I({},t)}function p(e){return e[M]}function de(e){e._component=null}E.default.prototype.getId=function(){return p(this).id};E.default.prototype.getGroupIds=function(){return p(this).groupIds};E.default.prototype.getSizerElement=function(){return p(this).sizerElement};E.default.Item.prototype.getKey=function(){return p(this).key};E.default.Item.prototype.getProps=function(){return p(this).props};E.default.Item.prototype.getData=function(){return p(this).data};E.default.Item.prototype.setData=function(t){p(this).data=t};var R=D(h("react")),u=D(le());var he=D(h("react")),O=D(le()),ht=D(h("muuri"));var me=h("react"),ce=(0,me.createContext)({}),Ee=ce.Provider,F=()=>(0,me.useContext)(ce);ce.displayName="GridProvider";var fe=h("react"),pe=(0,fe.createContext)({}),Pe=pe.Provider,v=()=>(0,fe.useContext)(pe);pe.displayName="ItemProvider";var z=class{constructor(){this._eventsMap=new Map;this._payloadsMap=new Map}enableEvent(t,r){this._eventsMap.set(t,r)}emitEvent(t,r){this.isEnabled(t)&&(this._payloadsMap.set(t,r),this._eventsMap.get(t)())}getPayload(t){return this._payloadsMap.get(t)}isEnabled(t){return this._eventsMap.has(t)}destroy(){this._eventsMap.clear(),this._payloadsMap.clear()}};var U=class{constructor(){this._requests=[]}useInit(){this._requests=[]}emit(t){for(let r=0;r<this._requests.length;r++)this._requests[r](t[r])}requestItem(t){this._requests.push(t)}destroy(){this._requests=[]}};var er="Invariant failed",we=class extends Error{constructor(t){super(t),this.name="Invariant"}};function d(e,t){if(!e)throw new we(er)}var W=class{constructor(){this._item=null;this._instance={}}set(t,r){this._item?x(this._item,{[t]:r}):this._instance[t]=r}get(t){return this._item?p(this._item)[t]:this._instance[t]}delete(){this._item&&de(this._item)}setItem(t){this._item=t,x(this._item,this._instance),this._instance={}}getItem(){return d(this._item!==null,"The item has not been setted yet"),this._item}hasItem(){return this._item!==null}destroy(){this._item=null,this._instance={}}};var K=class{constructor(){this._itemsToRemove=[]}useInit(){this._itemsToRemove=[]}removeItem(t){this._itemsToRemove.push(t)}getItemsToRemove(){return this._itemsToRemove}destroy(){this._itemsToRemove=[]}};var Qe=h("react"),Y=class{constructor(){this._itemsToRefresh=[],this._itemsToShow=[],this._itemsToHide=[],this._isRendering=!1}useInit(){this._itemsToRefresh=[],this._itemsToShow=[],this._itemsToHide=[],this._isRendering=!0,(0,Qe.useEffect)(()=>{this._isRendering=!1})}refreshItem(t){if(this._isRendering)this._itemsToRefresh.push(t);else{let r=t.getGrid();r.refreshItems([t]),r.layout()}}setItemVisibility(t,r,o){if(this._isRendering)r?this._itemsToShow.push(t):this._itemsToHide.push(t);else{let n=t.getGrid();r?n.show([t],{instant:o}):n.hide([t],{instant:o})}}getItemsToRefresh(){return this._itemsToRefresh}getItemsToShow(){return this._itemsToShow}getItemsToHide(){return this._itemsToHide}destroy(){this._itemsToRefresh=[],this._itemsToShow=[],this._itemsToHide=[]}};var ot=h("react");var B=class{constructor(){this._flag="0"}useInit(t){this.updateFlag(),(0,ot.useEffect)(()=>{d(t.current!==null),this._fiber=tr(t.current)},[])}getStateNodes(t){let r=[];if(t.length===0)return r;let o=Me(this._fiber,this._flag).child;return t.forEach(n=>{for(;o.index!==n;)o=o.sibling;r.push(rr(o))}),r}append(t){let r=Me(this._fiber,this._flag);Xe(r,t),r.alternate&&t.alternate&&Xe(r.alternate,t.alternate)}remove(t){let r=Me(this._fiber,this._flag),o=et(r,t);return r.alternate&&o.alternate&&et(r.alternate,t),o}getFlagProp(){return{[ue]:this._flag}}updateFlag(){this._flag==="0"?this._flag="1":this._flag="0"}destroy(){this._fiber=null}},ue="muuri-react-flag";function tr(e){let t=Object.keys(e).find(r=>r.startsWith("__reactInternalInstance$")||r.startsWith("__reactFiber$"));return d(typeof t=="string","Cannot find the __reactInternalInstance$"),e[t]}function Me(e,t){if(!e.alternate)return e;let r=e.memoizedProps[ue],o=e.alternate.memoizedProps[ue];if(r===o){let n=e;for(;n.return;)n=n.return;return n.stateNode.current===n?e:e.alternate}return r===t?e:e.alternate}function rr(e){let t=e.child.child;for(;!(t.stateNode instanceof HTMLElement);)t=t.child;return t.stateNode}function Xe(e,t){var r;if(!e.child)e.child=t,t.index=0;else{let o=e.child;for(;o.sibling;)o=o.sibling;t.index=o.index+1,o.sibling=t}t.return=e,t._debugOwner&&(t._debugOwner=(r=e.return)==null?void 0:r.return)}function et(e,t){let r=e.child,o;if(rt(r,t)){for(;rt(r.sibling,t);)r=r.sibling;o=nr(r),tt(r)}else o=or(e),r=r.sibling,r&&tt(r);return o.sibling=null,o}function or(e){let t=e.child;return e.child=e.child.sibling,t}function nr(e){let t=e.sibling;return e.sibling=e.sibling.sibling,t}function tt(e){for(;e.sibling;)e.sibling.index=e.index+1,e=e.sibling}function rt(e,t){return e.child.child.key!==t}var Fe=h("react"),Z=class{constructor(){this._oldChildrenArray=[];this._children=[];this._indicesToAdd=[];this._dragCounter=0}useInit(t){let r=Fe.Children.toArray(t);this._indicesToAdd=it(r,this._oldChildrenArray),this._children=t||[],this._oldChildrenArray=r}remove(t){return this._oldChildrenArray.splice(t,1)[0]}append(t){this._oldChildrenArray.push(t)}getIndicesToAdd(){return this._indicesToAdd}render(t){let r=Fe.Children.map(this._children,o=>t(o,o.key));return this.flush(),r}incrementDragCounter(){this._dragCounter+=1}decrementDragCounter(){this._dragCounter-=1}flush(){this._children=[]}destroy(){this.flush()}};function it(e,t){let r=[],o=0;for(let n=0;n<e.length;n++){let a=ir(t,e[n],o);a===-1?r.push(n):o=a}return r}function ir(e,t,r){r=r>e.length?e.length:r;for(let o=r;o<e.length;o++)if(nt(t,e[o]))return o;for(let o=0;o<r;o++)if(nt(t,e[o]))return o;return-1}function nt(e,t){return e.key===t.key}function st(e){let t=document.createElement("div");t.style.visibility="hidden",t.style.position="absolute",t.classList.add("grid-sizer"),x(e,{sizerElement:t});let r=e.getElement();r.children.length===0?r.appendChild(t):r.insertBefore(t,r.children[0])}var at=["relative","absolute","fixed"];function dt(e,t){let r=getComputedStyle(e).position;at.includes(r)||(e.style.position=at[0]),e.classList.add(t);let o=e.setAttribute.bind(e);e.setAttribute=function(a,y){a==="class"&&((e.getAttribute("class")||"").split(" ").includes(t)||(y=`${y} ${t}`)),o(a,y)}}function lt(e){x(e,{props:{},data:{}}),Object.defineProperty(e,"_sortData",{get(){return this.getData()},set(){}})}function mt(e,t){e.style.position="absolute";let r=e.setAttribute.bind(e);e.setAttribute=function(n,a){if(n==="class"){let b=(e.getAttribute("class")||"").split(" ").filter(f=>t.includes(f));a=`${a} ${b.join(" ")}`}r(n,a)}}var ct=h("react");function P(e){return(0,ct.useRef)(e).current}var ge=h("react");var ft=h("react");function J(e){let t=(0,ft.useRef)(e);if(t.current===e)return!0;let r=sr(t.current,e);return t.current=e,r}function sr(e,t){if(e.length!==t.length)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!0;return!1}function pt(e,t){let r=J(t),o=(0,ge.useRef)();r&&(o.current&&o.current(),o.current=e()),(0,ge.useEffect)(()=>()=>{o.current&&o.current()},[])}var ut=h("react");function A(e){let t=(0,ut.useRef)();return t.current||(t.current=e()),t.current}var gt=h("react");function V(){let e=(0,gt.useState)()[1];return P(()=>{e(Object.create(null))})}function Q({children:e,itemClasses:t,itemAddController:r,itemRemoveController:o,propsToData:n,itemKey:a,grid:y}){let b=A(()=>{let f=new z,C=new W;return C.set("key",a),C.set("eventController",f),{eventController:f,itemRefController:C,itemRemoveController:o,grid:y}});if(b.itemRefController.set("props",e.props),b.itemRemoveController=o,b.grid=y,n){let f=n(e.props);d(typeof f=="object",`The data returned by 'propsToData' must be an object, founded ${typeof f}`),b.itemRefController.set("data",f)}return(0,he.useEffect)(()=>(r.requestItem(f=>{lt(f),mt(f.getElement(),t),b.itemRefController.setItem(f)}),()=>{let f=b.itemRefController.getItem();d(f!==null);let C=f.getElement();d(C!==void 0),f.isDragging()&&(C.style.display="none",C.style.visibility="hidden",f._drag&&f._drag.destroy(),b.grid.getElement().appendChild(C)),b.itemRefController.delete(),b.itemRemoveController.removeItem(f),b.itemRefController.destroy(),b.eventController.destroy()}),[]),he.default.createElement(Pe,{value:b},e)}Q.propTypes={itemAddController:O.default.object.isRequired,itemClasses:O.default.arrayOf(O.default.string.isRequired).isRequired,propsToData:O.default.func,children:O.default.element.isRequired,grid:O.default.instanceOf(ht.default).isRequired};Q.displayName="ItemComponent";function yt(e,t,r,o,n){for(let a=0;a<t.length;a++)e.add(t[a],{index:r[a],layout:!1});!n&&(o!=null&&o.show)&&e.show(e.getItems(r),{layout:!1})}function bt(e,t){e.filter(r=>t(r.getData(),r),{layout:!1})}var ar="containerClass";function Ct(e){return e._settings[ar]}var dr=["itemClass","itemVisibleClass","itemHiddenClass","itemPositioningClass","itemDraggingClass","itemReleasingClass","itemPlaceholderClass"];function xt(e){return dr.map(t=>e._settings[t])}function vt(e,t){e.hide(t,{layout:!1})}function Dt(e,t){e.remove(t,{layout:!1,removeElements:!1})}function It(e,t){e.show(t,{layout:!1})}function Tt(e,t,r){r=j(I({},r||{}),{layout:!1}),typeof t=="function"&&lr(e,t,r),typeof t=="string"&&mr(e,t,r),Array.isArray(t)&&cr(e,t,r)}function lr(e,t,r){e.sort((o,n)=>t(o.getData(),n.getData(),o,n),r)}function mr(e,t,r){e.sort(t,r)}function cr(e,t,r){let o=e.getItems(),n=[],a=[];o.forEach(y=>{let b=y._component.key,f=t.findIndex(C=>C===b);f>-1?n[f]=y:a.push(y)}),e.sort(Array.prototype.concat(n.filter(y=>!!y),a),r)}function q({children:e,gridProps:t,grid:r,filter:o,sort:n,sortOptions:a,addOptions:y,propsToData:b,onSend:f,onDragStart:C,onDragEnd:X,onFilter:ee,onSort:te,onMount:re,onUnmount:oe,forceSync:ne,dragFixed:De,dragEnabled:Ie,instantLayout:Te}){let s=A(()=>({gridRef:(0,R.createRef)(),gridClass:Ct(r),itemClasses:xt(r),childrenController:new Z,fiberController:new B,itemAddController:new U,itemRemoveController:new K,layoutController:new Y,onUnmount:oe,onDragStart:C,onDragEnd:X,onFilter:ee,onSort:te,onSend:f})),c={indicesToAdd:[],addedDOMItems:[],itemsToRemove:[],itemsToRefresh:[],itemsToShow:[],itemsToHide:[],hasAdded:!1,hasRemoved:!1,hasFiltered:!1,hasSorted:!1,hasRefreshed:!1,hasShown:!1,hasHidden:!1};(0,R.useEffect)(()=>(r.on("beforeSend",({item:l,fromGrid:m,fromIndex:g})=>{if(!p(l).sentPayload){let T={fromChildrenController:s.childrenController,fromFiberController:s.fiberController,fromGrid:m,fromIndex:g};x(l,{sentPayload:T})}}).on("receive",({item:l,toGrid:m,toIndex:g})=>{let T=s.childrenController,S=s.fiberController;if(l.isDragging())x(l,{receivedPayload:{toChildrenController:T,toFiberController:S,toGrid:m,toIndex:g}});else{let G=p(l).sentPayload;d(G!==null&&typeof G=="object");let{fromChildrenController:Re,fromFiberController:_e}=G;x(l,{sentPayload:null});let se=_e.remove(l.getKey()),k=Re.remove(se.index);S.append(se),T.append(k)}p(l).eventController.emitEvent("send",r)}).on("dragInit",(l,m)=>{s.childrenController.incrementDragCounter(),p(l).eventController.emitEvent("drag",!0),s.onDragStart&&s.onDragStart(l,m)}).on("dragEnd",l=>{let m=p(l).sentPayload,g=p(l).receivedPayload;if(m&&g){let{fromChildrenController:T,fromFiberController:S,fromGrid:G,fromIndex:Re}=m,{toChildrenController:_e,toFiberController:se,toGrid:k,toIndex:Lt}=g;if(x(l,{sentPayload:null,receivedPayload:null}),G!==k){d(typeof s.onSend=="function","An item cannot be sent to another MuuriComponent if the 'onSend' property has not been passed to the MuuriComponent.");let Ne=S.remove(l.getKey()),zt=T.remove(Ne.index);se.append(Ne),_e.append(zt),s.onSend({key:p(l).key,fromGrid:G,fromIndex:Re,fromId:p(G).id,fromGroupIds:p(G).groupIds,toGrid:k,toIndex:Lt,toId:p(k).id,toGroupIds:p(k).groupIds})}}}).on("dragReleaseEnd",l=>{s.childrenController.decrementDragCounter(),p(l).eventController.emitEvent("drag",!1),s.onDragEnd&&s.onDragEnd(l)}).on("showStart",l=>{N(l[0])&&l.forEach(m=>{let g=p(m).eventController;g.getPayload("show")!==!0&&g.emitEvent("show",!0)})}).on("hideEnd",l=>{l.forEach(m=>{let g=p(m).eventController;g.getPayload("show")!==!1&&g.emitEvent("show",!1)})}).on("filter",(l,m)=>{s.onFilter&&s.onFilter(l,m)}).on("sort",(l,m)=>{s.onSort&&s.onSort(l,m)}),De&&r.on("dragInit",l=>{let m=l.getElement();d(m!==void 0);let{width:g,height:T,paddingTop:S}=getComputedStyle(m);x(l,{dragWidth:m.style.width,dragHeight:m.style.height,dragPaddingTop:m.style.paddingTop}),m.style.width=g,m.style.height=T,m.style.paddingTop=S}).on("dragReleaseEnd",l=>{let m=l.getElement();d(m!==void 0);let{dragWidth:g,dragHeight:T,dragPaddingTop:S}=p(l);m.style.width=g,m.style.height=T,m.style.paddingTop=S}),d(s.gridRef.current!==null),r._element=s.gridRef.current,dt(s.gridRef.current,s.gridClass),st(r),re&&re(r),()=>{s.childrenController.destroy(),s.fiberController.destroy(),s.itemRemoveController.destroy(),s.itemAddController.destroy(),s.layoutController.destroy()}),[]),s.childrenController.useInit(e),s.fiberController.useInit(s.gridRef),s.itemRemoveController.useInit(),s.itemAddController.useInit(),s.layoutController.useInit();let _=J([o]),ie=J([n,a]);(0,R.useEffect)(()=>{x(r,{dragEnabled:Ie}),c.indicesToAdd=s.childrenController.getIndicesToAdd(),c.addedDOMItems=s.fiberController.getStateNodes(c.indicesToAdd),c.itemsToRemove=s.itemRemoveController.getItemsToRemove(),c.itemsToRefresh=s.layoutController.getItemsToRefresh(),c.itemsToShow=s.layoutController.getItemsToShow(),c.itemsToHide=s.layoutController.getItemsToHide(),s.onUnmount=oe,s.onDragStart=C,s.onDragEnd=X,s.onFilter=ee,s.onSort=te,s.onSend=f}),(0,R.useEffect)(()=>{if(c.itemsToRemove.length&&(Dt(r,c.itemsToRemove),c.hasRemoved=!0),c.indicesToAdd.length){yt(r,c.addedDOMItems,c.indicesToAdd,y,o);let l=r.getItems(c.indicesToAdd);s.itemAddController.emit(l),c.hasAdded=!0}o&&(_||c.hasAdded||ne)&&(bt(r,o),c.hasFiltered=!0),n&&(ie||c.hasAdded||ne)&&(Tt(r,n,a),c.hasSorted=!0),!o&&c.itemsToShow.length&&(It(r,c.itemsToShow),c.hasShown=!0),!o&&c.itemsToHide.length&&(vt(r,c.itemsToHide),c.hasHidden=!0),c.itemsToRefresh.length&&(r.refreshItems(c.itemsToRefresh),c.hasRefreshed=!0),(c.hasAdded||c.hasRemoved||c.hasSorted||c.hasFiltered||c.hasRefreshed||c.hasShown||c.hasHidden)&&r.layout(Te)});let je=A(()=>({layoutController:s.layoutController,grid:r}));return R.default.createElement(Ee,{value:je},R.default.createElement("div",I(j(I({},t),{ref:s.gridRef}),s.fiberController.getFlagProp()),s.childrenController.render((l,m)=>R.default.createElement(Q,{key:m,itemKey:m,grid:r,propsToData:b,itemClasses:s.itemClasses,itemAddController:s.itemAddController,itemRemoveController:s.itemRemoveController},l))))}q.propTypes={grid:u.default.object.isRequired,gridProps:u.default.object,filter:u.default.oneOfType([u.default.string,u.default.func]),sort:u.default.oneOfType([u.default.string,u.default.func,u.default.arrayOf(u.default.string)]),sortOptions:u.default.exact({descending:u.default.bool}),addOptions:u.default.exact({show:u.default.bool}),onSend:u.default.func,onDragStart:u.default.func,onDragEnd:u.default.func,onFilter:u.default.func,onSort:u.default.func,onMount:u.default.func,onUnmount:u.default.func,forceSync:u.default.bool,dragFixed:u.default.bool,dragEnabled:u.default.bool,instantLayout:u.default.bool};q.defaultProps={gridProps:{},addOptions:{show:!0},sortOptions:{descending:!1},forceSync:!1,dragFixed:!1,dragEnabled:!1,instantLayout:!1};q.displayName="GridComponent";var $=D(h("react")),i=D(le()),Ft=D(h("muuri"));var ye=class{constructor(){this._idMap=new Map;this._groupMap=new Map}get(t){return this._idMap.get(t)||null}getGroup(t){let r=this._groupMap.get(t);if(r)return r;{let o=[];return this._groupMap.set(t,o),o}}getAll(){return Array.from(this._idMap.values())}set(t,r){return this._idMap.set(r,t),this}setGroup(t,r){let o=this._groupMap.get(r);return o?o.push(t):this._groupMap.set(r,[t]),this}delete(t){return this._idMap.delete(t),this}deleteGroup(t,r){let o=this._groupMap.get(r);if(o){let n=o.indexOf(t);n>-1&&o.splice(n,1)}return this}clear(){return this._idMap.clear(),this._groupMap.clear(),this}},H=new ye;var Rt=D(h("muuri"));function _t(e){let t=document.createElement("div");t.style.display="none",document.body.appendChild(t);let r=new Rt.default(t,e);return document.body.removeChild(t),r}function Ae(e,t){e&&(typeof e=="function"?e(t):"current"in e&&(e.current=t))}function St(e){let{dragAutoScroll:t}=e;!t||!Array.isArray(t.targets)||t.targets.forEach(r=>{if(Gt(r))return;d("element"in r,"You must provide an element in each scroll target");let o=r.element,n={current:null};Object.defineProperty(r,"element",{get(){return n.current},set(a){Gt(a)?n.current=a:n=a}}),r.element=o})}function Gt(e){return e instanceof HTMLElement||e instanceof window.constructor}function Et(e){let{dragContainer:t}=e,r={current:null};Object.defineProperty(e,"dragContainer",{get(){return r.current},set(o){!o||o instanceof Element?r.current=o:r=o}}),e.dragContainer=t}function Pt(e,t){let{dragSort:r}=e;if(!r||typeof r!="object")return;d(typeof r.groupId=="string","You must provide a string as groupId");let o=t.getGroup(r.groupId);e.dragSort=()=>o}var wt=D(h("muuri"));function Mt(e){let{dragStartPredicate:t}=e,r=fr(t);e.dragStartPredicate=(o,n)=>!p(o.getGrid()).dragEnabled||N(o)&&p(o).draggable===!1?!1:r(o,n)}function fr(e){return typeof e=="function"?e:(t,r)=>wt.default.ItemDrag.defaultStartPredicate(t,r,e)}var be=(0,$.forwardRef)(function(je,ie){var l=je,{children:t,id:r,groupIds:o,gridProps:n,filter:a,sort:y,sortOptions:b,addOptions:f,propsToData:C,onSend:X,onDragStart:ee,onDragEnd:te,onFilter:re,onSort:oe,onMount:ne,onUnmount:De,forceSync:Ie,dragFixed:Te,dragEnabled:s,instantLayout:c}=l,_=$e(l,["children","id","groupIds","gridProps","filter","sort","sortOptions","addOptions","propsToData","onSend","onDragStart","onDragEnd","onFilter","onSort","onMount","onUnmount","forceSync","dragFixed","dragEnabled","instantLayout"]);let m=A(()=>{_.items=[],_.dragEnabled=s!==null,Et(_),Pt(_,H),St(_),Mt(_);let g=_t(_);return r&&H.set(g,r),x(g,{id:r}),Ae(ie,g),g});return(0,$.useEffect)(()=>()=>{Ae(ie,null),de(m),r&&H.delete(r),m.destroy()},[]),pt(()=>(x(m,{groupIds:o}),o&&o.forEach(g=>{H.setGroup(m,g)}),()=>{o&&o.forEach(g=>{H.deleteGroup(m,g)})}),o||[]),$.default.createElement(q,{grid:m,gridProps:n,filter:a,sort:y,sortOptions:b,addOptions:f,propsToData:C,onSend:X,onDragStart:ee,onDragEnd:te,onFilter:re,onSort:oe,onMount:ne,onUnmount:De,forceSync:Ie,dragFixed:Te,dragEnabled:s,instantLayout:c},t)});be.propTypes={id:i.default.string,groupIds:i.default.arrayOf(i.default.string.isRequired),showDuration:i.default.number,showEasing:i.default.string,hideDuration:i.default.number,hideEasing:i.default.string,visibleStyles:i.default.shape({}),hiddenStyles:i.default.shape({}),layout:i.default.oneOfType([i.default.func,i.default.exact({fillGaps:i.default.bool,horizontal:i.default.bool,alignRight:i.default.bool,alignBottom:i.default.bool,rounding:i.default.bool})]),layoutOnResize:i.default.oneOfType([i.default.bool,i.default.number]),layoutDuration:i.default.number,layoutEasing:i.default.string,dragContainer:i.default.oneOfType([i.default.instanceOf(HTMLElement),i.default.shape({current:i.default.instanceOf(HTMLElement).isRequired})]),dragStartPredicate:i.default.oneOfType([i.default.func,i.default.exact({distance:i.default.number,delay:i.default.number,handle:i.default.oneOfType([i.default.string,i.default.bool])})]),dragAxis:i.default.oneOf(["x","y","xy"]),dragSort:i.default.oneOfType([i.default.bool,i.default.func,i.default.exact({groupId:i.default.string.isRequired})]),dragSortHeuristics:i.default.exact({sortInterval:i.default.number,minDragDistance:i.default.number,minBounceBackAngle:i.default.number}),dragSortPredicate:i.default.oneOfType([i.default.func,i.default.exact({action:i.default.oneOf(["move","swap"]),migrateAction:i.default.oneOf(["move","swap"]),threshold:i.default.number})]),dragRelease:i.default.exact({duration:i.default.number,easing:i.default.string,useDragContainer:i.default.bool}),dragCssProps:i.default.exact({touchAction:i.default.string,userSelect:i.default.string,userDrag:i.default.string,tapHighlightColor:i.default.string,touchCallout:i.default.string,contentZooming:i.default.string}),dragPlaceholder:i.default.exact({enabled:i.default.bool,createElement:i.default.func,onCreate:i.default.func,onRemove:i.default.func,easing:i.default.string,duration:i.default.number}),containerClass:i.default.string,itemClass:i.default.string,itemVisibleClass:i.default.string,itemHiddenClass:i.default.string,itemPositioningClass:i.default.string,itemDraggingClass:i.default.string,itemReleasingClass:i.default.string,itemPlaceholderClass:i.default.string};be.defaultProps=j(I({},Ft.default.defaultOptions),{dragEnabled:null});be.displayName="MuuriComponent";var Oe={};Le(Oe,{useData:()=>Ce,useDrag:()=>Ot,useDraggable:()=>Ht,useGrid:()=>jt,useRefresh:()=>Nt,useShow:()=>qt,useVisibility:()=>ve});function Ce(e,t){let{itemRefController:r}=v();d(r!==void 0,"The useData hook can be used only inside an Item");let o=P((n,a)=>{if(d(typeof n=="object",`The data must be an object, founded: ${typeof n}`),a=a||Ce.defaultOptions,a.merge){let y=r.get("data")||{};r.set("data",Object.assign(y,n))}else r.set("data",n)});return typeof e=="object"&&o(e,t),o}Ce.defaultOptions={merge:!1};var At=h("react");function Ot(){let{eventController:e}=v(),t=V();return d(e!==void 0,"The useDrag hook can be used only inside an Item"),(0,At.useEffect)(()=>{e.enableEvent("drag",t)},[e,t]),e.getPayload("drag")||!1}function Ht(){let{itemRefController:e}=v();return d(e!==void 0,"The useDraggable hook can be used only inside an Item"),P(r=>{e.set("draggable",!!r)})}var kt=h("react");function jt(){let{eventController:e}=v(),t=F(),r=V();d(e!==void 0&&t.grid!==void 0,"The useGrid hook can be used only inside an Item");let o=e.getPayload("send")||t.grid;return(0,kt.useEffect)(()=>{e.enableEvent("send",r)},[e,r]),{id:o._component.id,groupIds:o._component.groupIds,grid:o}}var xe=h("react");function Nt(e=[]){let{layoutController:t}=F(),{itemRefController:r}=v();d(r!==void 0&&t!==void 0,"The useRefresh hook can be used only inside an Item");let o=(0,xe.useCallback)(()=>{if(!r.hasItem())return;let n=r.getItem();t.refreshItem(n)},[t,r]);return(0,xe.useEffect)(()=>{o()},e.concat(o)),o}var Vt=h("react");function qt(){let{eventController:e}=v(),t=V();return d(e!==void 0,"The useShow hook can be used only inside an Item"),(0,Vt.useEffect)(()=>{e.enableEvent("show",t)},[e,t]),e.getPayload("show")}function ve(){let{layoutController:e}=F(),{eventController:t,itemRefController:r}=v();return d(r!==void 0&&e!==void 0&&t!==void 0,"The useVisibility hook can be used only inside an Item"),P((n,a)=>{r.hasItem()&&!!n!==t.getPayload("show")&&(a=a||ve.defaultOptions,e.setItemVisibility(r.getItem(),n,a.instant===!0))})}ve.defaultOptions={instant:!1};function He(e){d(typeof e=="object","You must define options"),d(typeof e.columns=="number"&&e.columns>0&&e.columns<=1,"options.columns must be a number between 0 (excluded) and 1 (included)"),d(typeof e.ratio=="number"||typeof e.height=="number"||typeof e.height=="string","You must provide at least one option between height and ratio"),d(typeof e.ratio!="number"||typeof e.height!="number"&&typeof e.height!="string","You cannot provide both the height and the ratio options");let{margin:t,mStatic:r,mDynamic:o}=hr(e.margin||"0px"),{needCalc:n,width:a}=pr(e.columns,r,o);return e.ratio?{width:n?`calc(${a})`:a,paddingTop:ur(a,e.ratio,n),height:"0px",borderWidth:"0px",margin:t}:{width:n?`calc(${a})`:a,paddingTop:"0px",height:gr(e.height),borderWidth:"0px",margin:t}}function pr(e,t,r){let o=t!==0,n=e*100-r,a=o?`${n}% - ${t}px`:`${n}%`;return{needCalc:o,width:a}}function ur(e,t,r){return r?`calc((${e}) / ${t})`:`${parseFloat(e)/t}%`}function gr(e){return typeof e=="number"?`${e}px`:e}function hr(e){typeof e=="number"&&(e=`${e}px`);let t=e.trim().split(" "),r="0px",o="0px",n=0,a=0;return t.length===1?r=o=t[0]:t.length===2||t.length===3?r=o=t[1]:t.length===4&&(r=t[3],o=t[1]),r.indexOf("%")===-1?a+=parseFloat(r):n+=parseFloat(r),o.indexOf("%")===-1?a+=parseFloat(o):n+=parseFloat(o),{margin:e,mStatic:a,mDynamic:n}}function yr(e){let t=He(e);d("grid"in e,"You mast pass the grid instance to get the static style.");let r=e.grid.getSizerElement();Object.assign(r.style,t);let{width:o,height:n,paddingTop:a,margin:y}=window.getComputedStyle(r);return{width:o,height:n,paddingTop:a,margin:y}}var $t=D(h("react"));var br=["useData","useDrag","useDraggable","useGrid","useRefresh","useShow","useVisibility"],Cr=[["useData",w("setData")],["useDrag",w("isDragging")],["useDraggable",w("setDraggable")],["useGrid",w("gridData")],["useRefresh",w("refresh")],["useShow",w("isShowing")],["useVisibility",w("setVisibility")]];function w(e){return function(r){return{[e]:r}}}function xr(e){return Object.assign({},...e.map(([t,r])=>{let o=Oe[t]();return r(o)}))}function vr(e,t){d(Array.isArray(t),"An array of hooks name must be provided to wrap an item."),t.forEach(o=>{d(br.includes(o),`Invalid item hook: ${o}`)}),d(t.length!==0,"To wrap an item at least one hook must be provided.");let r=Cr.filter(([o])=>t.includes(o));return function(n){return $t.default.createElement(e,I(I({},n),xr(r)))}}var Dr=ke.default.AutoScroller,Ir=ke.default.ItemDrag;return Jt(Tr);})();
//# sourceMappingURL=muuri-react.min.js.map
